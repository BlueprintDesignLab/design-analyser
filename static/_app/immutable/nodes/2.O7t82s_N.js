import"../chunks/DsnmJJEf.js";import{v as Y,w as Ae,r as sa,Y as k,ab as na,x as ia,H as la,y as De,z as pe,A as we,J as re,aN as $e,aO as oa,C as Ce,F as va,D as le,aP as je,i as da,B as We,as as ca,aQ as Ne,aR as Oe,G as Fe,I as ua,aS as _e,aT as ke,aw as Ge,aU as be,aV as fa,aW as Ke,aX as ma,aY as ha,aZ as pa,ae as Ye,a_ as ue,a$ as Xe,a5 as ga,b0 as _a,T as $,b1 as ba,b2 as ya,b3 as xa,b4 as He,b5 as wa,b6 as ka,b7 as Pa,e as za,a4 as Ea,b8 as Aa,M as U,V as y,P as m,a0 as u,_ as J,R as C,S as qe,a1 as Me,L as se,W as ne,aq as Q,at as ve,Z,Q as F,ac as ae,av as oe,a2 as me,O as Ca,X as D,au as Re,b9 as fe,K as Je,u as Ra}from"../chunks/BZJ5JeXG.js";import{i as H}from"../chunks/DurTXtzG.js";import{p as z,r as Le,_ as Ve,b as Sa}from"../chunks/DAE3zbgk.js";import{b as Ie,r as Ta,a as X,s as Ue,c as Qe}from"../chunks/BhzE7wI1.js";function Ze(t,e){return e}function qa(t,e,a){for(var l=t.items,n=[],s=e.length,r=0;r<s;r++)ma(e[r].e,n,!0);var d=s>0&&n.length===0&&a!==null;if(d){var c=a.parentNode;ha(c),c.append(a),l.clear(),K(t,e[0].prev,e[s-1].next)}pa(n,()=>{for(var f=0;f<s;f++){var o=e[f];d||(l.delete(o.k),K(t,o.prev,o.next)),Ge(o.e,!d)}})}function ea(t,e,a,l,n,s=null){var r=t,d={flags:e,items:new Map,first:null},c=(e&Xe)!==0;if(c){var f=t;r=Y?pe(ue(f)):f.appendChild(We())}Y&&Ae();var o=null,i=!1,g=new Map,S=na(()=>{var R=a();return da(R)?R:R==null?[]:je(R)}),p,E;function h(){Ma(E,p,d,g,r,n,e,l,a),s!==null&&(p.length===0?o?Fe(o):o=Ce(()=>s(r)):o!==null&&ua(o,()=>{o=null}))}sa(()=>{E??=Ye,p=k(S);var R=p.length;if(i&&R===0)return;i=R===0;let L=!1;if(Y){var M=ia(r)===la;M!==(R===0)&&(r=De(),pe(r),we(!1),L=!0)}if(Y){for(var T=null,_,v=0;v<R;v++){if(re.nodeType===$e&&re.data===oa){r=re,L=!0,we(!1);break}var w=p[v],q=l(w,v);_=Se(re,d,T,null,w,q,v,n,e,a),d.items.set(q,_),T=_}R>0&&pe(De())}if(Y)R===0&&s&&(o=Ce(()=>s(r)));else if(va()){var x=new Set,A=le;for(v=0;v<R;v+=1){w=p[v],q=l(w,v);var N=d.items.get(q)??g.get(q);N?(e&(be|_e))!==0&&aa(N,w,v,e):(_=Se(null,d,null,null,w,q,v,n,e,a,!0),g.set(q,_)),x.add(q)}for(const[b,P]of d.items)x.has(b)||A.skipped_effects.add(P.e);A.add_callback(h)}else h();L&&we(!0),k(S)}),Y&&(r=re)}function Ma(t,e,a,l,n,s,r,d,c){var f=(r&_a)!==0,o=(r&(be|_e))!==0,i=e.length,g=a.items,S=a.first,p=S,E,h=null,R,L=[],M=[],T,_,v,w;if(f)for(w=0;w<i;w+=1)T=e[w],_=d(T,w),v=g.get(_),v!==void 0&&(v.a?.measure(),(R??=new Set).add(v));for(w=0;w<i;w+=1){if(T=e[w],_=d(T,w),v=g.get(_),v===void 0){var q=l.get(_);if(q!==void 0){l.delete(_),g.set(_,q);var x=h?h.next:p;K(a,h,q),K(a,q,x),Pe(q,x,n),h=q}else{var A=p?p.e.nodes_start:n;h=Se(A,a,h,h===null?a.first:h.next,T,_,w,s,r,c)}g.set(_,h),L=[],M=[],p=h.next;continue}if(o&&aa(v,T,w,r),(v.e.f&ke)!==0&&(Fe(v.e),f&&(v.a?.unfix(),(R??=new Set).delete(v))),v!==p){if(E!==void 0&&E.has(v)){if(L.length<M.length){var N=M[0],b;h=N.prev;var P=L[0],B=L[L.length-1];for(b=0;b<L.length;b+=1)Pe(L[b],N,n);for(b=0;b<M.length;b+=1)E.delete(M[b]);K(a,P.prev,B.next),K(a,h,P),K(a,B,N),p=N,h=B,w-=1,L=[],M=[]}else E.delete(v),Pe(v,p,n),K(a,v.prev,v.next),K(a,v,h===null?a.first:h.next),K(a,h,v),h=v;continue}for(L=[],M=[];p!==null&&p.k!==_;)(p.e.f&ke)===0&&(E??=new Set).add(p),M.push(p),p=p.next;if(p===null)continue;v=p}L.push(v),h=v,p=v.next}if(p!==null||E!==void 0){for(var I=E===void 0?[]:je(E);p!==null;)(p.e.f&ke)===0&&I.push(p),p=p.next;var j=I.length;if(j>0){var O=(r&Xe)!==0&&i===0?n:null;if(f){for(w=0;w<j;w+=1)I[w].a?.measure();for(w=0;w<j;w+=1)I[w].a?.fix()}qa(a,I,O)}}f&&ga(()=>{if(R!==void 0)for(v of R)v.a?.apply()}),t.first=a.first&&a.first.e,t.last=h&&h.e;for(var V of l.values())Ge(V.e);l.clear()}function aa(t,e,a,l){(l&be)!==0&&Oe(t.v,e),(l&_e)!==0?Oe(t.i,a):t.i=a}function Se(t,e,a,l,n,s,r,d,c,f,o){var i=(c&be)!==0,g=(c&fa)===0,S=i?g?ca(n,!1,!1):Ne(n):n,p=(c&_e)===0?r:Ne(r),E={i:p,v:S,k:s,a:null,e:null,prev:a,next:l};try{if(t===null){var h=document.createDocumentFragment();h.append(t=We())}return E.e=Ce(()=>d(t,S,p,f),Y),E.e.prev=a&&a.e,E.e.next=l&&l.e,a===null?o||(e.first=E):(a.next=E,a.e.next=E.e),l!==null&&(l.prev=E,l.e.prev=E.e),E}finally{}}function Pe(t,e,a){for(var l=t.next?t.next.e.nodes_start:a,n=e?e.e.nodes_start:a,s=t.e.nodes_start;s!==null&&s!==l;){var r=Ke(s);n.before(s),s=r}}function K(t,e,a){e===null?t.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function Be(t,e,a=!1,l=!1,n=!1){var s=t,r="";$(()=>{var d=Ye;if(r===(r=e()??"")){Y&&Ae();return}if(d.nodes_start!==null&&(ba(d.nodes_start,d.nodes_end),d.nodes_start=d.nodes_end=null),r!==""){if(Y){re.data;for(var c=Ae(),f=c;c!==null&&(c.nodeType!==$e||c.data!=="");)f=c,c=Ke(c);if(c===null)throw ya(),xa;He(re,f),s=pe(c);return}var o=r+"";a?o=`<svg>${o}</svg>`:l&&(o=`<math>${o}</math>`);var i=wa(o);if((a||l)&&(i=ue(i)),He(ue(i),i.lastChild),a||l)for(;ue(i);)s.before(ue(i));else s.before(i)}})}function ge(t,e,a=e){var l=ka(),n=new WeakSet;Pa(t,"input",s=>{var r=s?t.defaultValue:t.value;if(r=ze(t)?Ee(r):r,a(r),le!==null&&n.add(le),l&&r!==(r=e())){var d=t.selectionStart,c=t.selectionEnd;t.value=r??"",c!==null&&(t.selectionStart=d,t.selectionEnd=Math.min(c,t.value.length))}}),(Y&&t.defaultValue!==t.value||za(e)==null&&t.value)&&(a(ze(t)?Ee(t.value):t.value),le!==null&&n.add(le)),Ea(()=>{var s=e();if(t===document.activeElement){var r=Aa??le;if(n.has(r))return}ze(t)&&s===Ee(t.value)||t.type==="date"&&!s&&!t.value||s!==t.value&&(t.value=s??"")})}function ze(t){var e=t.type;return e==="number"||e==="range"}function Ee(t){return t===""?null:+t}var La=U(`<section class="hero-section svelte-fp80na"><div class="hero-content svelte-fp80na"><h1 class="hero-title svelte-fp80na"><!></h1> <p class="hero-subtitle svelte-fp80na">Get implementation-ready design briefs with colors, typography, spacing, and layout systems.
			 Then remix the styles for a unique blend to add to your own site.</p></div></section>`);function Ia(t,e){var a=La(),l=m(a),n=m(l),s=m(n);Be(s,()=>e.title),u(n),J(2),u(l),u(a),y(t,a)}var Ua=U('<div class="loading-spinner svelte-s3lysl"><svg class="h-4 w-4 animate-spin" viewBox="0 0 24 24" fill="none" stroke="currentColor"><circle class="opacity-25" cx="12" cy="12" r="10" stroke-width="4"></circle><path class="opacity-75" d="M4 12a8 8 0 018-8" stroke-width="4" stroke-linecap="round"></path></svg></div>'),Ba=U("<button><!> <!></button>");function te(t,e){let a=z(e,"variant",3,"primary"),l=z(e,"size",3,"md"),n=z(e,"loading",3,!1),s=z(e,"disabled",3,!1),r=z(e,"fullWidth",3,!1),d=z(e,"type",3,"button"),c=z(e,"class",3,""),f=Le(e,["$$slots","$$events","$$legacy","variant","size","loading","disabled","fullWidth","type","onclick","children","class"]);const o={sm:"px-3 py-1.5 text-xs min-h-8",md:"px-4 py-2 text-sm min-h-10",lg:"px-6 py-3 text-base min-h-12"},i={primary:"btn-primary",secondary:"btn-secondary",outline:"btn-outline",ghost:"btn-ghost"};var g=Ba();Ie(g,()=>({type:d(),class:`btn ${i[a()]??""} ${o[l()]??""} ${r()?"w-full":""} ${c()??""}`,disabled:s()||n(),onclick:e.onclick,...f}),void 0,void 0,"svelte-s3lysl");var S=m(g);{var p=h=>{var R=Ua();y(h,R)};H(S,h=>{n()&&h(p)})}var E=C(S,2);qe(E,()=>e.children??Me),u(g),y(t,g)}var Da=U('<span class="text-[var(--color-danger)]">*</span>'),Na=U('<label class="input-label svelte-ixv77n"> <!></label>'),Oa=U('<div class="input-icon svelte-ixv77n"><!></div>'),Ha=U('<p class="input-error-text svelte-ixv77n"> </p>'),Va=U('<p class="input-helper-text svelte-ixv77n"> </p>'),$a=U('<div><!> <div class="input-wrapper svelte-ixv77n"><!> <input/></div> <!></div>');function ja(t,e){se(e,!0);let a=z(e,"type",3,"text"),l=z(e,"placeholder",3,""),n=z(e,"value",15,""),s=z(e,"label",3,""),r=z(e,"helperText",3,""),d=z(e,"error",3,""),c=z(e,"required",3,!1),f=z(e,"disabled",3,!1),o=z(e,"icon",3,""),i=z(e,"class",3,""),g=z(e,"id",3,""),S=Le(e,["$$slots","$$events","$$legacy","type","placeholder","value","label","helperText","error","required","disabled","icon","class","id"]);const p=g()||`input-${Math.random().toString(36).substr(2,9)}`;var E=$a(),h=m(E);{var R=x=>{var A=Na(),N=m(A),b=C(N);{var P=B=>{var I=Da();y(B,I)};H(b,B=>{c()&&B(P)})}u(A),$(()=>{Ue(A,"for",p),Q(N,`${s()??""} `)}),y(x,A)};H(h,x=>{s()&&x(R)})}var L=C(h,2),M=m(L);{var T=x=>{var A=Oa(),N=m(A);Be(N,o),u(A),y(x,A)};H(M,x=>{o()&&x(T)})}var _=C(M,2);Ta(_),Ie(_,()=>({type:a(),placeholder:l(),required:c(),disabled:f(),id:p,class:`input ${o()?"pl-10":""} ${d()?"input-error":""}`,...S}),void 0,void 0,"svelte-ixv77n"),u(L);var v=C(L,2);{var w=x=>{var A=Ha(),N=m(A,!0);u(A),$(()=>Q(N,d())),y(x,A)},q=x=>{var A=ve(),N=Z(A);{var b=P=>{var B=Va(),I=m(B,!0);u(B),$(()=>Q(I,r())),y(P,B)};H(N,P=>{r()&&P(b)},!0)}y(x,A)};H(v,x=>{d()?x(w):x(q,!1)})}u(E),$(()=>X(E,1,`input-group ${i()??""}`,"svelte-ixv77n")),ge(_,n),y(t,E),ne()}var Wa=U("<div><!></div>");function ye(t,e){let a=z(e,"variant",3,"default"),l=z(e,"padding",3,"md"),n=z(e,"hover",3,!1),s=z(e,"class",3,""),r=Le(e,["$$slots","$$events","$$legacy","variant","padding","hover","children","class"]);const d={none:"",sm:"p-3",md:"p-4",lg:"p-6"},c={default:"card",outlined:"card border-2",elevated:"card shadow-lg",danger:"card border-[var(--color-danger)] bg-[var(--color-danger)]/5"};var f=Wa();Ie(f,()=>({class:`${c[a()]??""} ${d[l()]??""} ${n()?"card-hover":""} ${s()??""}`,...r}),void 0,void 0,"svelte-guot6h");var o=m(f);qe(o,()=>e.children??Me),u(f),y(t,f)}var Fa=U('<p class="section-error svelte-zuncfp"> </p>'),Ga=me('<svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg> Generate Analysis',1),Ka=U('<div class="form-header svelte-zuncfp"><h2 class="form-title svelte-zuncfp">Extract from Websites</h2> <p class="form-description svelte-zuncfp">Enter up to three public URLs to analyze.</p></div> <form class="form-content svelte-zuncfp"><div class="url-inputs svelte-zuncfp"><div class="input-section svelte-zuncfp"><h3 class="input-section-title svelte-zuncfp">Website URLs</h3> <!></div> <!></div> <div class="form-actions svelte-zuncfp"><!></div></form>',1);function Ya(t,e){se(e,!0);let a=z(e,"urls",31,()=>ae(["","",""])),l=z(e,"loading",3,!1),n=z(e,"class",3,""),s=F(ae({}));function r(c){c.preventDefault(),D(s,{},!0);const f=a().map(o=>{const i=o.trim();return i?/^https?:\/\//i.test(i)?i:`https://${i}`:""}).filter(Boolean);if(f.length===0){k(s).urls="Please enter at least one URL";return}for(let o=0;o<f.length;o++)try{new URL(f[o])}catch{k(s)[`url-${o}`]="Please enter a valid URL";return}e.onSubmit?.({urls:f})}const d=`<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
		<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0-9v9"/>
	</svg>`;ye(t,{get class(){return`form-card ${n()??""}`},children:(c,f)=>{var o=Ka(),i=C(Z(o),2),g=m(i),S=m(g),p=C(m(S),2);{var E=M=>{var T=Fa(),_=m(T,!0);u(T),$(()=>Q(_,k(s).urls)),y(M,T)};H(p,M=>{k(s).urls&&M(E)})}u(S);var h=C(S,2);ea(h,17,a,Ze,(M,T,_)=>{{let v=Re(()=>k(s)[`url-${_}`]||"");ja(M,{type:"url",placeholder:`https://example${_+1}.com`,icon:d,required:_===0,get error(){return k(v)},class:"url-input",get value(){return a()[_]},set value(w){a(a()[_]=w,!0)}})}}),u(g);var R=C(g,2),L=m(R);te(L,{type:"submit",variant:"primary",size:"lg",get loading(){return l()},fullWidth:!0,class:"submit-button",children:(M,T)=>{var _=ve(),v=Z(_);{var w=x=>{var A=oe("Analyzing Websites...");y(x,A)},q=x=>{var A=Ga();J(),y(x,A)};H(v,x=>{l()?x(w):x(q,!1)})}y(M,_)},$$slots:{default:!0}}),u(R),u(i),Ca("submit",i,r),y(c,o)},$$slots:{default:!0}}),ne()}var Xa=U('<p class="loading-text svelte-fhzeie"> </p>'),Ja=U('<div><div class="loading-spinner svelte-fhzeie"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><circle class="opacity-25" cx="12" cy="12" r="10" stroke-width="4"></circle><path class="opacity-75" d="M4 12a8 8 0 018-8" stroke-width="4" stroke-linecap="round"></path></svg></div> <!></div>');function Te(t,e){let a=z(e,"size",3,"md"),l=z(e,"text",3,""),n=z(e,"class",3,"");const s={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"};var r=Ja(),d=m(r),c=m(d);u(d);var f=C(d,2);{var o=i=>{var g=Xa(),S=m(g,!0);u(g),$(()=>Q(S,l())),y(i,g)};H(f,i=>{l()&&i(o)})}u(r),$(()=>{X(r,1,`loading-container ${n()??""}`,"svelte-fhzeie"),X(c,0,`animate-spin ${s[a()]??""} text-[var(--color-accent-primary)]`,"svelte-fhzeie")}),y(t,r)}var Qa=U('<p class="result-url svelte-rsdq2a"> </p>'),Za=U('<div class="result-status svelte-rsdq2a"><!></div>'),et=U('<div class="result-loading svelte-rsdq2a"><!></div>'),at=me('<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg> Copy Analysis',1),tt=U('<div class="result-actions svelte-rsdq2a"><!></div>'),rt=U('<div class="result-output svelte-rsdq2a"><textarea readonly="" class="result-textarea svelte-rsdq2a"></textarea> <!></div>'),st=U('<div class="result-header svelte-rsdq2a"><div class="result-info svelte-rsdq2a"><div class="result-badge svelte-rsdq2a"></div> <div class="result-meta svelte-rsdq2a"><h3 class="result-name svelte-rsdq2a"></h3> <!></div></div> <!></div> <div class="result-content svelte-rsdq2a"><!></div>',1),nt=U('<section><div class="results-header svelte-rsdq2a"><h2 class="results-title svelte-rsdq2a">Design Analysis Results</h2> <p class="results-description svelte-rsdq2a">Individual site analyses with extracted design patterns and implementation details.</p></div> <div class="results-grid svelte-rsdq2a"></div></section>');function it(t,e){se(e,!0);let a=z(e,"summaries",19,()=>[]),l=z(e,"generating",19,()=>[]),n=z(e,"urls",19,()=>[]),s=z(e,"class",3,"");function r(i){navigator.clipboard&&navigator.clipboard.writeText(i)}function d(i){try{return new URL(i).hostname}catch{return"Invalid URL"}}var c=ve(),f=Z(c);{var o=i=>{var g=nt(),S=C(m(g),2);ea(S,21,a,Ze,(p,E,h)=>{ye(p,{class:"result-card",padding:"none",children:(R,L)=>{var M=st(),T=Z(M),_=m(T),v=m(_);v.textContent=h+1;var w=C(v,2),q=m(w);q.textContent=`Site Analysis ${h+1}`;var x=C(q,2);{var A=O=>{var V=Qa(),W=m(V,!0);u(V),$(ie=>Q(W,ie),[()=>d(n()[h])]),y(O,V)};H(x,O=>{n()[h]&&n()[h].trim()&&O(A)})}u(w),u(_);var N=C(_,2);{var b=O=>{var V=Za(),W=m(V);Te(W,{size:"sm",text:"Analyzing..."}),u(V),y(O,V)};H(N,O=>{l()[h]&&O(b)})}u(T);var P=C(T,2),B=m(P);{var I=O=>{var V=et(),W=m(V);Te(W,{size:"lg",text:"Extracting design patterns from website..."}),u(V),y(O,V)},j=O=>{var V=rt(),W=m(V);fe(W);var ie=C(W,2);{var he=de=>{var ee=tt(),xe=m(ee);te(xe,{variant:"outline",size:"sm",onclick:()=>r(k(E)),children:(ce,Et)=>{var ra=at();J(),y(ce,ra)},$$slots:{default:!0}}),u(ee),y(de,ee)};H(ie,de=>{k(E).trim().length>0&&de(he)})}u(V),$(()=>{Ue(W,"placeholder",l()[h]?"Analyzing website design patterns...":"Analysis will appear here"),Qe(W,k(E))}),y(O,V)};H(B,O=>{l()[h]&&!k(E).trim()?O(I):O(j,!1)})}u(P),y(R,M)},$$slots:{default:!0}})}),u(S),u(g),$(()=>X(g,1,`results-section ${s()??""}`,"svelte-rsdq2a")),y(i,g)};H(f,i=>{a().length>0&&i(o)})}y(t,c),ne()}var lt=me('<svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg> Generate Brief',1),ot=U('<div class="brief-loading svelte-i5g7yf"><!></div>'),vt=me('<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg> Copy Brief',1),dt=me('<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> Export MD',1),ct=U('<div class="brief-bottom-actions svelte-i5g7yf"><div class="brief-stats svelte-i5g7yf"><span class="word-count"> </span> <span class="char-count"> </span></div> <div class="action-buttons svelte-i5g7yf"><!> <!></div></div>'),ut=U('<div class="brief-output svelte-i5g7yf"><textarea readonly="" class="brief-textarea svelte-i5g7yf"></textarea> <!></div>'),ft=U(`<div class="brief-header svelte-i5g7yf"><div class="brief-info svelte-i5g7yf"><h2 class="brief-title svelte-i5g7yf">Unified Design Brief</h2> <p class="brief-description svelte-i5g7yf">Combine all analyses into a single, brand-agnostic design system ready for
						implementation.</p></div> <div class="brief-actions svelte-i5g7yf"><!></div></div> <div class="brief-content svelte-i5g7yf"><!></div>`,1),mt=U("<section><!></section>");function ht(t,e){se(e,!0);let a=z(e,"remixText",11,""),l=z(e,"remixing",3,!1),n=z(e,"canRemix",3,!1),s=z(e,"class",3,"");function r(){navigator.clipboard&&navigator.clipboard.writeText(a())}function d(){const i=new Blob([a()],{type:"text/markdown"}),g=URL.createObjectURL(i),S=document.createElement("a");S.href=g,S.download=`design-brief-${new Date().toISOString().split("T")[0]}.md`,document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(g)}var c=ve(),f=Z(c);{var o=i=>{var g=mt(),S=m(g);ye(S,{class:"brief-card",children:(p,E)=>{var h=ft(),R=Z(h),L=C(m(R),2),M=m(L);{let q=Re(()=>l()?"outline":"secondary"),x=Re(()=>!n());te(M,{get variant(){return k(q)},size:"lg",get loading(){return l()},get onclick(){return e.onGenerate},get disabled(){return k(x)},children:(A,N)=>{var b=ve(),P=Z(b);{var B=j=>{var O=oe("Generating Brief...");y(j,O)},I=j=>{var O=lt();J(),y(j,O)};H(P,j=>{l()?j(B):j(I,!1)})}y(A,b)},$$slots:{default:!0}})}u(L),u(R);var T=C(R,2),_=m(T);{var v=q=>{var x=ot(),A=m(x);Te(A,{size:"lg",text:"Creating unified design system from all analyses..."}),u(x),y(q,x)},w=q=>{var x=ut(),A=m(x);fe(A);var N=C(A,2);{var b=P=>{var B=ct(),I=m(B),j=m(I),O=m(j);u(j);var V=C(j,2),W=m(V);u(V),u(I);var ie=C(I,2),he=m(ie);te(he,{variant:"outline",size:"md",onclick:r,children:(ee,xe)=>{var ce=vt();J(),y(ee,ce)},$$slots:{default:!0}});var de=C(he,2);te(de,{variant:"secondary",size:"md",onclick:d,children:(ee,xe)=>{var ce=dt();J(),y(ee,ce)},$$slots:{default:!0}}),u(ie),u(B),$(ee=>{Q(O,`${ee??""} words`),Q(W,`${a().length??""} characters`)},[()=>a().trim().split(/\s+/).length]),y(P,B)};H(N,P=>{a().trim().length>0&&P(b)})}u(x),$(()=>{Ue(A,"placeholder",l()?"Generating comprehensive design brief...":"Click 'Generate Brief' to create a unified design system from all analyses"),Qe(A,a())}),y(q,x)};H(_,q=>{l()&&!a().trim()?q(v):q(w,!1)})}u(T),y(p,h)},$$slots:{default:!0}}),u(g),$(()=>X(g,1,`brief-section ${s()??""}`,"svelte-i5g7yf")),y(i,g)};H(f,i=>{n()&&i(o)})}y(t,c),ne()}var pt=U("<h4> </h4>"),gt=U('<button type="button" aria-label="Dismiss alert"><svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button>'),_t=U('<div role="alert"><div class="flex items-start gap-3"><div><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><!></svg></div> <div class="min-w-0 flex-1"><!> <div><!></div></div> <!></div></div>');function bt(t,e){let a=z(e,"variant",3,"info"),l=z(e,"title",3,""),n=z(e,"dismissible",3,!1),s=z(e,"class",3,"");const d={info:{bg:"bg-[var(--color-accent-primary)]/10",border:"border-[var(--color-accent-primary)]/20",text:"text-[var(--color-accent-primary)]",icon:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>'},success:{bg:"bg-[var(--color-success)]/10",border:"border-[var(--color-success)]/20",text:"text-[var(--color-success)]",icon:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>'},warning:{bg:"bg-[var(--color-warning)]/10",border:"border-[var(--color-warning)]/20",text:"text-[var(--color-warning)]",icon:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"/>'},danger:{bg:"bg-[var(--color-danger)]/10",border:"border-[var(--color-danger)]/20",text:"text-[var(--color-danger)]",icon:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>'}}[a()];var c=_t(),f=m(c),o=m(f),i=m(o),g=m(i);Be(g,()=>d.icon,!0),u(i),u(o);var S=C(o,2),p=m(S);{var E=T=>{var _=pt(),v=m(_,!0);u(_),$(()=>{X(_,1,`font-medium ${d.text??""} mb-1`,"svelte-q9vz6p"),Q(v,l())}),y(T,_)};H(p,T=>{l()&&T(E)})}var h=C(p,2),R=m(h);qe(R,()=>e.children??Me),u(h),u(S);var L=C(S,2);{var M=T=>{var _=gt();_.__click=function(...v){e.onDismiss?.apply(this,v)},$(()=>X(_,1,`-m-1 flex-shrink-0 p-1 ${d.text??""} transition-opacity hover:opacity-75`,"svelte-q9vz6p")),y(T,_)};H(L,T=>{n()&&T(M)})}u(f),u(c),$(()=>{X(c,1,`alert ${d.bg??""} ${d.border??""} rounded-lg border p-4 ${s()??""}`,"svelte-q9vz6p"),X(o,1,`flex-shrink-0 ${d.text??""}`,"svelte-q9vz6p"),X(h,1,`text-sm ${d.text??""}`,"svelte-q9vz6p")}),y(t,c)}Je(["click"]);function yt(t,e){se(e,!0);function a(s){const r=`

REFERENCE
- URL: ${s.url}
- Title: ${s.title}
- Meta: ${s.metaDesc}
- HTML sample: ${s.html.replace(/\s+/g," ").slice(0,4e4)}
- CSS sample: ${s.css.replace(/\s+/g," ").slice(0,4e4)}
- Text sample: ${s.textSample}`;return e.config.analysisPrompt+r}async function l(s){try{const{OpenAI:r}=await Ve(async()=>{const{OpenAI:f}=await import("../chunks/-wsttYkh.js");return{OpenAI:f}},[],import.meta.url),d=new r({apiKey:e.config.apiKey,baseURL:e.config.baseURL,dangerouslyAllowBrowser:!0});s.forEach((f,o)=>{e.onAnalysisUpdate?.(o,"",!1,!0)});const c=s.map(async(f,o)=>{try{const i=a(f),g=await d.chat.completions.create({model:e.config.model,messages:[{role:"system",content:e.config.systemPrompt},{role:"user",content:i}],stream:!0});for await(const S of g){const p=S.choices?.[0]?.delta?.content||"";p&&e.onAnalysisUpdate?.(o,p,!1)}e.onAnalysisUpdate?.(o,"",!0)}catch(i){console.error(`Analysis failed for site ${o+1}:`,i),e.onError?.(`Analysis failed for site ${o+1}`)}});await Promise.allSettled(c)}catch(r){e.onError?.(r?.message||"Failed to initialize analysis service")}}async function n(s){try{const{OpenAI:r}=await Ve(async()=>{const{OpenAI:i}=await import("../chunks/-wsttYkh.js");return{OpenAI:i}},[],import.meta.url),d=new r({apiKey:e.config.apiKey,baseURL:e.config.baseURL,dangerouslyAllowBrowser:!0}),c=`

INPUT:
${s.map((i,g)=>`--- Summary ${g+1} ---
${i}`).join(`

`)}`,f=e.config.remixPrompt+c,o=await d.chat.completions.create({model:e.config.model,messages:[{role:"system",content:"You generate brand-safe, accessible, implementation-ready design prompts and briefs."},{role:"user",content:f}],stream:!0});for await(const i of o){const g=i.choices?.[0]?.delta?.content||"";g&&e.onAnalysisUpdate?.(-1,g,!1)}e.onAnalysisUpdate?.(-1,"",!0)}catch(r){e.onError?.(r?.message||"Failed to generate unified brief")}}return ne({analyzeSites:l,generateRemix:n})}const ta={systemPrompt:"You extract brand-safe, accessible, implementation-focused design briefs.",analysisPrompt:"You are a senior product designer and front-end lead. Analyze the single public reference below and produce an actionable, brand-agnostic design system brief that a human or AI can use",remixPrompt:"Remix the following per-site design briefs into a single, unified reference suitable for creating a NEW site. Keep brand-agnostic and implementation-ready.",model:"gpt-4.1-mini",apiKey:"dummy-key",baseURL:"https://llm-proxy-735482512776.us-west1.run.app"},G=ae(ta);ae({value:!1});var xt=U('<div class="config-header svelte-155rrow"><h2 class="config-title svelte-155rrow">System Prompt Configuration</h2> <p class="config-description svelte-155rrow">Customize the AI prompts and system messages used for analysis.</p></div> <div class="config-content svelte-155rrow"><div class="config-section svelte-155rrow"><label for="system-prompt" class="config-label svelte-155rrow">System Prompt <span class="label-description svelte-155rrow">The main instruction for the AI assistant</span></label> <textarea id="system-prompt" class="config-textarea svelte-155rrow" rows="3" placeholder="Enter the system prompt..."></textarea></div> <div class="config-section svelte-155rrow"><label for="analysis-prompt" class="config-label svelte-155rrow">Analysis Prompt Template <span class="label-description svelte-155rrow">Instructions for analyzing individual websites</span></label> <textarea id="analysis-prompt" class="config-textarea large svelte-155rrow" rows="12" placeholder="Enter the analysis prompt template..."></textarea></div> <div class="config-section svelte-155rrow"><label for="remix-prompt" class="config-label svelte-155rrow">Remix Prompt Template <span class="label-description svelte-155rrow">Instructions for combining multiple analyses</span></label> <textarea id="remix-prompt" class="config-textarea svelte-155rrow" rows="4" placeholder="Enter the remix prompt template..."></textarea></div></div> <div class="config-actions svelte-155rrow"><!> <div class="action-group svelte-155rrow"><!> <!></div></div>',1),wt=U('<div class="config-overlay svelte-155rrow"><!></div>');function kt(t,e){se(e,!0);let a=z(e,"visible",15,!1),l=z(e,"class",3,""),n=F(ae({...G}));function s(){D(n,ta,!0)}function r(){G.systemPrompt=k(n).systemPrompt,G.analysisPrompt=k(n).analysisPrompt,G.remixPrompt=k(n).remixPrompt,G.model=k(n).model,G.apiKey=k(n).apiKey,G.baseURL=k(n).baseURL,a(!1)}function d(){D(n,{...G},!0),a(!1)}Ra(()=>{a()&&D(n,{...G},!0)});var c=ve(),f=Z(c);{var o=i=>{var g=wt(),S=m(g);ye(S,{get class(){return`config-modal ${l()??""}`},children:(p,E)=>{var h=xt(),R=C(Z(h),2),L=m(R),M=C(m(L),2);fe(M),u(L);var T=C(L,2),_=C(m(T),2);fe(_),u(T);var v=C(T,2),w=C(m(v),2);fe(w),u(v),u(R);var q=C(R,2),x=m(q);te(x,{variant:"outline",onclick:s,children:(P,B)=>{J();var I=oe("Reset to Defaults");y(P,I)},$$slots:{default:!0}});var A=C(x,2),N=m(A);te(N,{variant:"outline",onclick:d,children:(P,B)=>{J();var I=oe("Cancel");y(P,I)},$$slots:{default:!0}});var b=C(N,2);te(b,{variant:"primary",onclick:r,children:(P,B)=>{J();var I=oe("Save Configuration");y(P,I)},$$slots:{default:!0}}),u(A),u(q),ge(M,()=>k(n).systemPrompt,P=>k(n).systemPrompt=P),ge(_,()=>k(n).analysisPrompt,P=>k(n).analysisPrompt=P),ge(w,()=>k(n).remixPrompt,P=>k(n).remixPrompt=P),y(p,h)},$$slots:{default:!0}}),u(g),y(i,g)};H(f,i=>{a()&&i(o)})}y(t,c),ne()}var Pt=(t,e)=>D(e,!0),zt=U('<div class="main-container svelte-k7qo0p"><!> <div class="system-prompt-button-container svelte-k7qo0p"><button type="button" class="system-prompt-button svelte-k7qo0p"><svg class="button-icon svelte-k7qo0p" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg> System Prompt Configuration</button></div> <!> <!> <!> <!> <!> <!></div>');function qt(t,e){se(e,!0);let a=F(ae(["https://www.apple.com/iphone/","https://zen-browser.app/","https://svelte.dev/"])),l=F(ae([])),n=F(!1),s=F(null),r=F(ae([])),d=F(!1),c=F(!1),f=F(""),o=F(!1),i;async function g({urls:b}){D(s,null),D(r,[],!0),D(f,""),D(d,!1),D(l,[],!0),D(a,[...b,"","",""].slice(0,3),!0),D(n,!0);try{const P=await fetch("/extract",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({urls:b})});if(!P.ok){const O=await P.text();throw new Error(O||"Failed to extract website data")}const I=(await P.json()).sites;if(D(r,I.map(()=>""),!0),D(l,I.map(()=>!1),!0),await i.analyzeSites(I),!k(r).some(O=>O.trim().length>0))throw new Error("Failed to generate any analysis. Please try again.");D(d,!0)}catch(P){D(s,P?.message||"An unexpected error occurred",!0)}finally{D(n,!1)}}async function S(){if(!k(r).every(b=>!b.trim())){D(f,""),D(c,!0);try{await i.generateRemix(k(r))}catch(b){D(s,b?.message||"Failed to generate unified brief. Please try again.",!0)}finally{D(c,!1)}}}function p(b,P,B,I=!1){b===-1?B||D(f,k(f)+P):I?k(l)[b]=!0:B?k(l)[b]=!1:k(r)[b]+=P}function E(b){D(s,b,!0)}function h(){D(s,null)}var R=zt(),L=m(R);Ia(L,{title:"CSS Design Pattern <span class='text-[var(--color-accent-primary)]'>Extractor</span>"});var M=C(L,2),T=m(M);T.__click=[Pt,o],u(M);var _=C(M,2);Ya(_,{get loading(){return k(n)},onSubmit:g,get urls(){return k(a)},set urls(b){D(a,b,!0)}});var v=C(_,2);{var w=b=>{bt(b,{variant:"danger",title:"Analysis Error",dismissible:!0,onDismiss:h,class:"error-alert",children:(P,B)=>{J();var I=oe();$(()=>Q(I,k(s))),y(P,I)},$$slots:{default:!0}})};H(v,b=>{k(s)&&b(w)})}var q=C(v,2);it(q,{get summaries(){return k(r)},get generating(){return k(l)},get urls(){return k(a)}});var x=C(q,2);ht(x,{get remixing(){return k(c)},get canRemix(){return k(d)},onGenerate:S,get remixText(){return k(f)},set remixText(b){D(f,b,!0)}});var A=C(x,2);Sa(yt(A,{get config(){return G},onAnalysisUpdate:p,onError:E}),b=>i=b,()=>i);var N=C(A,2);kt(N,{get visible(){return k(o)},set visible(b){D(o,b,!0)}}),u(R),y(t,R),ne()}Je(["click"]);export{qt as component};
